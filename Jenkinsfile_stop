pipeline {
    agent any
    
    stages {
        
        stage('Stop Minikube') {
            steps {
                script {
                    echo "üöÄ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ Minikube —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º Docker..."
                    // --force –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞, –µ—Å–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç :cite[1]
                    sh 'minikube stop'
                    echo "‚úÖ –ö–ª–∞—Å—Ç–µ—Ä Minikube —É—Å–ø–µ—à–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω."
                }
            }
        }
        
        }    
        
    }
    
    post {
        always {
            echo "üìù Pipeline –∑–∞–≤–µ—Ä—à–µ–Ω. –î–µ—Ç–∞–ª–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö –≤—ã—à–µ."
        }
        success {
            echo "üéâ –í—Å–µ —Å—Ç–∞–¥–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!"
            // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Slack –∏–ª–∏ email
        }
        failure {
            echo "‚ùå Pipeline –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏."
            // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
        }
    }
}
